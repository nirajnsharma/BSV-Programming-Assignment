### Makefile for the DotProduct project
### Generated by Bluespec Workstation on Fri Aug 25 12:41:34 IST 2017

default: full_clean compile link 

.PHONY: compile
compile:
	@echo Compiling...
	bsc -u -sim -simdir build -bdir build -info-dir build -keep-fires -aggressive-conditions -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./src_common:./src_tb:./src_v01 -g mkTb  src_tb/Tb.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkTb -sim -o ./out -simdir build -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./src_common:./src_tb:./src_v01 -bdir build -keep-fires -Xc++ -D_GLIBCXX_USE_CXX11_ABI=0 src_c/checker.c
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	./out 
	@echo Simulation finished

.PHONY: clean
clean:
	exec rm -f build/DotProduct.bo build/GTypes.bo build/Tb.bo
	exec rm -f build/mkTb.ba build/mkDotProduct.ba
	exec rm -f build/mkTb.o build/mkDotProduct.o build/model_mkTb.o

.PHONY: full_clean
full_clean:
	rm -f build/DotProduct.bo build/GTypes.bo build/Tb.bo
	rm -f build/mkTb.ba build/mkDotProduct.ba
	rm -f build/mkTb.o build/mkDotProduct.o build/model_mkTb.o
	rm -f build/model_mkTb.h build/mkTb.h
	rm -f build/model_mkTb.cxx build/mkTb.cxx
	rm -f build/mkDotProduct.h
	rm -f build/mkDotProduct.cxx
